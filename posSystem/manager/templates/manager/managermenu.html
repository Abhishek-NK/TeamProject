{% extends "base.html" %}

{% load static %}

{% block title %}Manager Menu{% endblock %}

{% block content %}
<!-- Modal - adjusting selected menu item - -->
{% for menu_item in menu %}
<div class="modal fade" id="{{menu_item.id}}" role="dialog">
  <div class="modal-dialog">

    <!-- Modal content-->
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title">{{menu_item.name}} - Â£{{menu_item.price}}</h4>
        <button type="button" class="close" data-dismiss="modal">&times;</button>
      </div>
      <div class="modal-body">

        <form method="POST">{% csrf_token %}
            <input type="hidden" name="menu_id" value="{{ menu_item.id }}">
            <label><b>Name </b></label><br>
            <input type="text" style="width:400px" value="{{menu_item.name}}" name="menu_name" required>
            <br>
            <br>
            <label><b>Price </b></label><br>
            <input type="number" style="width:400px" step="0.01" value="{{menu_item.price}}" name="menu_price" required>
            <br>
            <br>
            <label><b>Description </b></label><br>
            <input type="text" style="width:400px" value="{{menu_item.description}}" name="menu_description" required>
            <br>
            <br>
            <label><b>Course </b></label><br>
            <input type="text" style="width:400px" value="{{menu_item.course}}" name="menu_course" required>
            <br>
            <br>
            <label><b>Category </b></label><br>
            <input type="text" style="width:400px" value="{{menu_item.category}}" name="menu_category" required>
            <br>
            <br>
            <label><b>Allergy </b></label><br>
            <input type="text" style="width:400px" value="{{menu_item.allergy}}" name="menu_allergy">
            <br>
            <br>
            <label><b>Calories </b></label><br>
            <input type="text" style="width:400px" value="{{menu_item.calories}}" name="menu_calories" required>
            <br>
            <br>
            <label><b>Image link </b></label><br>
            <input type="text" style="width:400px" value="{{menu_item.image}}" name="menu_image" required>
            <br>

      </div>
      <div class="modal-footer">
          <button type="submit" class="btn btn-primary mr-auto" name="confirm">Confirm changes</button>
          <button type="submit" class="btn btn-secondary" name="delete" style="background-color: #f44336;">Delete Item</button>
      </div>
        </form>
    </div>
  </div>
</div>
{% endfor %}

<h1 class="text-center">Adjust Menu</h1>

{% for menu_item in menu %}
<div class="list-group">
    <a class="list-group-item list-group-item-action" data-target="#{{menu_item.id}}" data-toggle="modal" href="#{{menu_item.id}}"><b>{{ menu_item.name }}</b> - {{ menu_item.category }}</a>

</div>
{% endfor %}
<br>
<br>
{% endblock %}

{% block endjs %}<script src="{% static "manager/js/index.js" %}"></script>{% endblock %}
